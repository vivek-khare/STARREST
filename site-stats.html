<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<meta name="description" content="">
<meta name="author" content="">
<link rel="icon" href="favicon.ico">
<!--Todo: Place the right favicon -->

<title>RESTfult Services Site Stats</title>

<!-- Bootstrap core CSS -->
<!-- <link href="./dist/css/bootstrap.min.css" rel="stylesheet"> -->
<link href="frameworks/bootstrap-3.3.5/css/bootstrap.min.css"
	rel="stylesheet">

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

<!-- Custom styles for this template -->
<link href="carousel.css" rel="stylesheet">

<!-- Custom styles from Infosys -->
<link href="custom.css" rel="stylesheet">
</head>
<!-- NAVBAR
================================================== -->
<body>
	<div class="navbar-wrapper"
		style="border: 0px solid white; margin-bottom: 0px; padding-bottom: 0px">
		<div class="container" style="border: 0px solid red">

			<!--<nav class="navbar navbar-inverse navbar-static-top">
				<div class="container">
					<div id="navbar" class="navbar-collapse collapse">
						<ul class="nav navbar-nav">
							<li><a href="index.html" style="color: orange">Home</a></li>
							<li><a href="ci-cd-stories.html" style="color: orange">CI/CD Stories
									</a></li>
							<li><a href="devops-faqs.html" style="color: orange">DevOps
									FAQs</a></li>
							<li><a href="points-of-contact.html" style="color: orange">Point
									of Contacts</a></li>
							<li class="active"><a href="#stats">Site Statistics</a></li>
						</ul>
					</div>
				</div>
			</nav>-->
			

			<nav class="navbar navbar-inverse navbar-static-top">
				<div class="container">
					<div id="navbar" class="navbar-collapse collapse">
						<ul class="nav navbar-nav">
							<li><a href="index.html" style="color: orange">Home</a></li>
							<li><a href="rest-faqs.html" style="color: orange">REST
									FAQs</a></li>
							<li><a href="points-of-contact.html" style="color: orange">Point
									of Contacts</a></li>
							<li class="active"><a href="#stats">Site
									Statistics</a></li>
							<li><a href="about.html" style="color: orange">About STAR Portal</a></li>
						</ul>
					</div>
				</div>
			</nav>

			<br>

			<h1 style="color: maroon; text-align: left">Latest Visitors
				(Last 100 Visitors)</h1>
			<hr class="featurette-divider"
				style="margin-top: -5px; margin-bottom: 0px; border-top: 1px solid maroon">

				<div ng-app="pageStats" ng-controller="PageStatsController">
			<div class="row" >


				<div class="col-lg-12"
					style="line-height: 2; color: darkblue; border-top: 0px solid orange; margin-top: 10px; padding: 15px;">
					<table
						class="table table-striped table-bordered table-hover table-responsive">
						<thead>
							<tr></tr>
							<th>Name</th>
							<th>User ID</th>
							<th>Location</th>
							<th>No of Visits</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="visitor in visitors">

								<td>{{visitor.firstName + ' '+ visitor.lastName}}</td>
								<td>{{visitor.emailId}}</td>
								<td>{{visitor.location}}</td>
								<td style="text-align: center">{{visitor.noOfClicks}}</td>
							</tr>
						</tbody>
					</table>
				</div>
				</div>


		
				            <h1 style="color:maroon; text-align: left">Download Stats</h1>
            <hr class="featurette-divider" style="margin-top:-5px;margin-bottom:0px;border-top:1px solid maroon">

            <div class="row">


                <div class="col-lg-12"
                     style="line-height: 2; color: darkblue; border-top: 0px solid orange; margin-top: 10px; padding: 15px;">
                    <table
                            class="table table-striped table-bordered table-hover table-responsive"
                            >
                        <thead>
                        <tr></tr>
                        <th>Asset Name</th>
                        <th>Name</th>
                        <th>Email ID</th>
                        <th>Location</th>
                        <th>Designation</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="dwnVisitor in downloadStats track by $index">
                            <td>{{dwnVisitor.pageName}}</td>
                            <td>{{dwnVisitor.firstName + ' '+ dwnVisitor.lastName}}</td>
                            <td>{{dwnVisitor.email}}</td>
                            <td>{{dwnVisitor.location}}</td>
                            <td>{{dwnVisitor.designation}}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

            </div>
		</div>
	</div>
	</div>

	<script>
		function toggleQuestion(object) {
			alert('hello' + object);
			object.attr("class", "glyphicon glyphicon-plus");

		}
	</script>


	<!-- START THE FEATURETTES -->


	<!-- /.container -->


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="frameworks/jquery-1.11.3/jquery-1.11.3.min.js"></script>
<!-- <script src="./dist/js/bootstrap.min.js"></script> -->
<script src="frameworks/bootstrap-3.3.5/js/bootstrap.min.js"></script>

<script src="frameworks/angular-1.2.29/angular.min.js"></script>
<script src="js/app.js"></script>

<script>
    $(document).ready(function () {

        $.ajax({
            url: '/microsites/rest/micrositevisitor/updateVisitorStats/rest',
            type: 'GET',
            success: function (result) {
                console.log("visit updated in DB");
            }
        });

        $.ajax({
            url: '/microsites/rest/micrositepagevisit/insertPageStats?pageName=Page%20Stats&visitType=Page%20Visit&siteName=rest',
            type: 'GET',
            success: function (result) {
                console.log("page type updated in DB");
            }
        });


    });

</script>

<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<!-- <script src="./assets/js/ie10-viewport-bug-workaround.js"></script> -->
<script src="assets/js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>
